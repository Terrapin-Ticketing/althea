{"version":3,"sources":["webpack:///./src/routes/Signup/modules/signup.js","webpack:///./src/routes/Signup/containers/SignupContainer.js","webpack:///./src/routes/Signup/components/Signup.js","webpack:///./src/routes/Signup/components/Signup.scss"],"names":["signup","email","password","privateKey","dispatch","getState","axios","url","method","data","withCredentials","then","res","token","setAuthorizationToken","type","payload","jwt","decode","catch","err","actions","ACTION_HANDLERS","initialState","signupReducer","state","action","handler","mapDispatchToProps","mapStateToProps","user","connect","Signup","props","confirmPassword","signupError","handleSubmit","bind","e","preventDefault","browserHistory","push","setState","target","value"],"mappings":"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","file":"3.4d4bf55e1bd3dbbcfd46.js","sourcesContent":["import axios from 'axios'\nimport jwt from 'jsonwebtoken';\nimport setAuthorizationToken from '../../../utils/setAuthorizationToken';\n\n// ------------------------------------\n// Constants\n// ------------------------------------\n/*  This is a thunk, meaning it is a function that immediately\n    returns a function for lazy evaluation. It is incredibly useful for\n    creating async actions, especially when combined with redux-thunk! */\n\nexport const signup = (email, password, privateKey) => {\n  return (dispatch, getState) => {\n    return axios({\n      url: `${SHAKEDOWN_URL}/signup`,\n      method: 'post',\n      data: {email, password, privateKey},\n      withCredentials: true\n    })\n      .then((res) => {\n        let { token } = res.data;\n        setAuthorizationToken(token);\n        return dispatch({\n          type: 'LOGIN', // don't know why SIGNUP_SUCCESS doesnt work\n          payload: jwt.decode(token)\n        });\n      })\n      .catch((err) => {\n        throw err;\n      });\n  };\n};\n\nexport const actions = {\n  signup\n};\n\n// ------------------------------------\n// Action Handlers\n// ------------------------------------\nconst ACTION_HANDLERS = {\n};\n\n// ------------------------------------\n// Reducer\n// ------------------------------------\nconst initialState = {};\n\nexport default function signupReducer (state = initialState, action) {\n  const handler = ACTION_HANDLERS[action.type]\n\n  return handler ? handler(state, action) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Signup/modules/signup.js","import { connect } from 'react-redux'\nimport { signup } from '../modules/signup'\n\n/*  This is a container component. Notice it does not contain any JSX,\n    nor does it import React. This component is **only** responsible for\n    wiring in the actions and state necessary to render a presentational\n    component - in this case, the counter:   */\n\nimport Signup from '../components/Signup'\n\n/*  Object of action creators (can also be function that returns object).\n    Keys will be passed as props to presentational components. Here we are\n    implementing our wrapper around increment; the component doesn't care   */\n\nconst mapDispatchToProps = {\n  signup\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  };\n}\n\n\n/*  Note: mapStateToProps is where you should use `reselect` to create selectors, ie:\n\n    import { createSelector } from 'reselect'\n    const counter = (state) => state.counter\n    const tripleCount = createSelector(counter, (count) => count * 3)\n    const mapStateToProps = (state) => ({\n      counter: tripleCount(state)\n    })\n\n    Selectors can compute derived data, allowing Redux to store the minimal possible state.\n    Selectors are efficient. A selector is not recomputed unless one of its arguments change.\n    Selectors are composable. They can be used as input to other selectors.\n    https://github.com/reactjs/reselect    */\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup)\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Signup/containers/SignupContainer.js","import React, { Component } from 'react'\nimport './Signup.scss'\nimport { browserHistory } from 'react-router';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      confirmPassword: '',\n      privateKey: '',\n      signupError: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    let { password, confirmPassword, email, privateKey } = this.state;\n    e.preventDefault();\n    if (password === confirmPassword) {\n      this.props.signup(email, password, privateKey)\n      .then(() => {\n        browserHistory.push('/user');\n      })\n      .catch((err) => { // email already taken\n        this.setState({signupError: 'That email is already in use. Please try again.'});\n      });\n    } else {\n      this.setState({signupError: 'Your passwords don\\'t match! Please try again.'});\n    }\n  }\n\n\n  render() {\n    return (\n      <form className='login-container' onSubmit={this.handleSubmit}>\n          <label className='label'>\n            <span>Email:</span>\n            <input type=\"text\" value={this.state.email} onChange={(e) => {\n              this.setState({email: e.target.value});\n            }} />\n          </label>\n          <label className='label'>\n            <span>Password:</span>\n            <input type=\"text\" value={this.state.password} onChange={(e) => {\n              this.setState({password: e.target.value});\n            }} />\n          </label>\n          <label className='label'>\n            <span>Confirm Password:</span>\n            <input type=\"text\" value={this.state.confirmPassword} onChange={(e) => {\n              this.setState({confirmPassword: e.target.value});\n            }} />\n          </label>\n          <label className='label'>\n            <span>Private Key (optional):</span>\n            <input type=\"text\" value={this.state.privateKey} onChange={(e) => {\n              this.setState({privateKey: e.target.value});\n            }} />\n          </label>\n          <span className='error'>{\n            (this.state.signupError) ? this.state.signupError :\n            (this.props.signupError) ? this.props.signupError : null}\n          </span>\n          <button type=\"submit\">Signup</button>\n      </form>\n    );\n  }\n}\n\nexport default Signup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Signup/components/Signup.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/Signup/components/Signup.scss\n// module id = 882\n// module chunks = 3"],"sourceRoot":""}